var dceDynamicPostsCrossroadsSlideshow=function($scope,$){var elementSwiper=$scope.find(".swiper")[0];var mainSwiper=null;var isTransitioning=!1;if(!elementSwiper){return}
function updateClasses(swiper){if(!swiper||!swiper.slides)return;var slides=swiper.slides;var totalSlides=slides.length;var centerIndex=swiper.activeIndex;$(slides).find(".dce-grid__item").removeClass("dce-grid__item--left dce-grid__item--center dce-grid__item--right",);var prevIndex=(centerIndex-1+totalSlides)%totalSlides;var nextIndex=(centerIndex+1)%totalSlides;$(slides[prevIndex]).find(".dce-grid__item").addClass("dce-grid__item--left");$(slides[centerIndex]).find(".dce-grid__item").addClass("dce-grid__item--center");$(slides[nextIndex]).find(".dce-grid__item").addClass("dce-grid__item--right")}
function initClickHandlers(swiper){$(elementSwiper).off("click.dceSlideshow");$(elementSwiper).on("click.dceSlideshow",".dce-grid__item--left",function(e){e.preventDefault();if(!isTransitioning){isTransitioning=!0;swiper.slidePrev()}},);$(elementSwiper).on("click.dceSlideshow",".dce-grid__item--right",function(e){e.preventDefault();if(!isTransitioning){isTransitioning=!0;swiper.slideNext()}},);$(elementSwiper).on("click.dceSlideshow",".dce-grid__item--center .dce-post-link",function(e){e.stopPropagation()},)}
var swiperOptions={slidesPerView:2.6,centeredSlides:!0,spaceBetween:"18%",speed:1000,initialSlide:0,watchOverflow:!0,observer:!0,observeParents:!0,loop:!0,loopedSlides:2,preventClicks:!1,preventClicksPropagation:!1,on:{init:function(){updateClasses(this);initClickHandlers(this)},slideChange:function(){updateClasses(this)},slideChangeTransitionEnd:function(){isTransitioning=!1},loopFix:function(){updateClasses(this)},beforeTransitionStart:function(){updateClasses(this)},},};const asyncSwiper=elementorFrontend.utils.swiper;new asyncSwiper(elementSwiper,swiperOptions).then((newSwiperInstance)=>{mainSwiper=newSwiperInstance;updateClasses(mainSwiper)}).catch((error)=>console.log(error))};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/dce-dynamicposts-v2.crossroadsslideshow",dceDynamicPostsCrossroadsSlideshow,);elementorFrontend.hooks.addAction("frontend/element_ready/dce-woo-products-cart.crossroadsslideshow",dceDynamicPostsCrossroadsSlideshow,);elementorFrontend.hooks.addAction("frontend/element_ready/dce-dynamic-woo-products.crossroadsslideshow",dceDynamicPostsCrossroadsSlideshow,);elementorFrontend.hooks.addAction("frontend/element_ready/dce-dynamic-show-favorites.crossroadsslideshow",dceDynamicPostsCrossroadsSlideshow,);elementorFrontend.hooks.addAction("frontend/element_ready/dce-my-posts.crossroadsslideshow",dceDynamicPostsCrossroadsSlideshow,);elementorFrontend.hooks.addAction("frontend/element_ready/dce-sticky-posts.crossroadsslideshow",dceDynamicPostsCrossroadsSlideshow,);elementorFrontend.hooks.addAction("frontend/element_ready/dce-search-results.crossroadsslideshow",dceDynamicPostsCrossroadsSlideshow,);elementorFrontend.hooks.addAction("frontend/element_ready/dce-metabox-relationship.crossroadsslideshow",dceDynamicPostsCrossroadsSlideshow,);elementorFrontend.hooks.addAction("frontend/element_ready/dce-acf-relationship.crossroadsslideshow",dceDynamicPostsCrossroadsSlideshow,)})